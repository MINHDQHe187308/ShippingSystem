/* --- LEGEND --- */
/* Set global font to Meiryo UI with fallbacks */
html, body, #calendar {
    font-family: 'Meiryo UI', Meiryo, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

.legend-container {
    display: inline-flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px; /* cách xa nhau hơn */
    background: #f8f9fa;
    padding: 18px 25px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.legend-item {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 16px; /* chữ to hơn */
    font-weight: 600; /* đậm hơn */
    color: #333;
    min-width: 150px; /* giúp các item không dính sát */
    justify-content: flex-start;
}

.legend-icon {
    width: 22px; /* to hơn */
    height: 22px;
    display: inline-block;
    border-radius: 4px;
    box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);
}

/* --- EVENT BORDER STYLE --- */
.fc-event.actual-event {
    border-style: dashed !important;
    border-width: 2px !important;
}

.fc-event.plan-event {
    border-style: solid !important;
    border-width: 2px !important;
}

/* --- TITLE --- */
h1 {
    font-size: 40px; /* Increased to be very large */
    color: #343a40;
    font-weight: 800;
    line-height: 1.05;
    letter-spacing: -0.5px;
    padding-bottom: 20px;
}

/* --- Border Legend --- */
#legend p strong {
    font-size: 16px;
}

#legend p span {
    font-size: 15px;
}

/* --- Modal Status Column Styling --- */
.status-cell {
    white-space: normal; /* Cho phép wrap để fit progress bars */
    line-height: 1.4;
    vertical-align: top;
}

    .status-cell .badge {
        display: block;
        margin-bottom: 10px; /* Tăng space dưới badge */
    }

.progress-info {
    font-size: 0.9em;
}

    .progress-info .d-flex {
        font-size: 0.85em;
        font-weight: 500;
    }

.progress {
    border-radius: 4px;
    background-color: #e9ecef;
    height: 8px;
}

.progress-bar {
    transition: width 0.3s ease-in-out;
}
/* Animated title for Calendar page */
.calendar-title {
    font-size: 40px; /* keep current size */
    font-weight: 800;
    line-height: 1.15; /* Increased slightly for better descender space */
    letter-spacing: -0.5px;
    margin-bottom: 12px;
    display: block; /* Block for full width centering */
    position: relative;
    text-align: center; /* Ensure centering */
    text-shadow: 0 6px 18px rgba(0,0,0,0.08);
    width: 100%; /* Full width to prevent cutoff */
    overflow: visible; /* Allow text to extend if needed */
    /* Vertical animations (parent) */
    animation: slideInUp 700ms cubic-bezier(.2,.9,.3,1) both, floatUp 6s ease-in-out infinite, subtleRotate 10s linear infinite;
    /* FIX: Sharp text rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    backface-visibility: hidden;
    transform-style: preserve-3d;
    will-change: transform;
}
/* Inner element holds gradient text and horizontal/drift/shimmer animations */
.calendar-title-inner {
    display: inline-block;
    position: relative;
    margin: 0 auto; /* Center horizontally */
    white-space: nowrap; /* Prevent wrapping to avoid cutoff */
    /* FIX: Ensure descenders (g, p) have space */
    padding-bottom: 2px; /* Extra padding for descenders */
    /* Enhanced multi-layer gradient for richer colors */
    background: linear-gradient(90deg, #ff6b6b 0%, /* Vibrant red-orange */
    #ffd93d 20%, /* Sunny yellow */
    #6bcf7f 40%, /* Fresh green */
    #4facfe 60%, /* Sky blue */
    #a55eea 80%, /* Purple */
    #ff9ff3 100% /* Soft pink */
    ), linear-gradient(45deg, #ff9a9e 0%, #fecfef 25%, #fecfef 75%, #ff9a9e 100% );
    background-size: 300% 300%, 100% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    color: transparent; /* fallback */
    /* FIX: Sharp gradient text */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    /* Force hardware acceleration for smooth animations without blur */
    transform: translateZ(0);
    backface-visibility: hidden;
    /* Horizontal drift + gradient shift + pulse */
    animation: gradientShift 4s linear infinite, driftX 8s ease-in-out infinite alternate, subtlePulse 3s ease-in-out infinite;
}
    /* shimmer sweep across the inner text */
    .calendar-title-inner::before {
        content: '';
        position: absolute;
        top: -10%;
        left: -40%;
        width: 40%;
        height: 120%;
        background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 100%);
        transform: skewX(-20deg);
        pointer-events: none;
        mix-blend-mode: screen;
        opacity: 0;
        animation: shimmer 6s ease-in-out infinite, colorTintShift 12s linear infinite;
        z-index: 1;
    }
    /* Sparkle effect */
    .calendar-title-inner::after {
        content: '✨';
        position: absolute;
        top: 20%;
        right: -10%;
        font-size: 24px;
        opacity: 0;
        animation: sparkleFloat 5s ease-in-out infinite;
        pointer-events: none;
        color: rgba(255, 255, 255, 0.6);
        mix-blend-mode: screen;
    }

.calendar-title::after {
    content: '';
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: -10px;
    height: 4px;
    width: 0%;
    background: linear-gradient(90deg, transparent, #ff6b6b, #ffd93d, #6bcf7f, transparent);
    border-radius: 4px;
    box-shadow: 0 4px 12px rgba(255,107,107,0.4), 0 0 20px rgba(255,217,61,0.3);
    transition: width 320ms ease, background 320ms ease, box-shadow 320ms ease;
    animation: underlineGlow 4s ease-in-out infinite alternate;
}

.calendar-title:hover::after {
    width: 56%;
    background: linear-gradient(90deg, #ff6b6b, #ffd93d, #6bcf7f);
    box-shadow: 0 4px 12px rgba(255,107,107,0.6), 0 0 30px rgba(255,217,61,0.5);
}

@keyframes gradientShift {
    0% {
        background-position: 0% 50%, 0% 0%;
    }

    25% {
        background-position: 100% 50%, 100% 0%;
    }

    50% {
        background-position: 200% 50%, 0% 100%;
    }

    75% {
        background-position: 100% 50%, 100% 100%;
    }

    100% {
        background-position: 0% 50%, 0% 0%;
    }
}

@keyframes floatUp {
    0%, 100% {
        transform: translateY(0) rotateZ(0deg);
    }

    25% {
        transform: translateY(-2px) rotateZ(0.5deg);
    }

    50% {
        transform: translateY(-6px) rotateZ(0deg);
    }

    75% {
        transform: translateY(-2px) rotateZ(-0.5deg);
    }
}

@keyframes driftX {
    0% {
        transform: translateX(0) scale(1);
    }

    50% {
        transform: translateX(2px) scale(1.02);
    }

    100% {
        transform: translateX(4px) scale(1);
    }
}

@keyframes shimmer {
    0% {
        left: -40%;
        opacity: 0;
        transform: translateY(0) scale(1);
    }

    20% {
        left: -20%;
        opacity: 0.4;
        transform: translateY(-2px) scale(1.1);
    }

    40% {
        left: 20%;
        opacity: 1;
        transform: translateY(0) scale(1.2);
    }

    60% {
        left: 60%;
        opacity: 0.4;
        transform: translateY(-1px) scale(1.1);
    }

    100% {
        left: 130%;
        opacity: 0;
        transform: translateY(0) scale(1);
    }
}

@keyframes slideInUp {
    0% {
        opacity: 0;
        transform: translateY(10px) scale(0.95);
    }

    100% {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes subtleRotate {
    0%, 100% {
        transform: rotateZ(0deg);
    }

    50% {
        transform: rotateZ(0.3deg);
    }
}

@keyframes subtlePulse {
    0%, 100% {
        transform: scale(1);
        text-shadow: 0 6px 18px rgba(0,0,0,0.08);
    }

    50% {
        transform: scale(1.03);
        text-shadow: 0 6px 24px rgba(255,107,107,0.2);
    }
}

@keyframes sparkleFloat {
    0% {
        opacity: 0;
        transform: translateY(0) rotate(0deg) scale(0.5);
    }

    10% {
        opacity: 1;
    }

    90% {
        opacity: 1;
    }

    100% {
        opacity: 0;
        transform: translateY(-20px) rotate(360deg) scale(1.5);
    }
}

@keyframes underlineGlow {
    0% {
        box-shadow: 0 4px 12px rgba(255,107,107,0.2), 0 0 10px rgba(255,217,61,0.1);
    }

    100% {
        box-shadow: 0 4px 12px rgba(107,199,127,0.4), 0 0 25px rgba(255,217,61,0.4);
    }
}

@keyframes colorTintShift {
    0% {
        filter: hue-rotate(0deg) brightness(1);
    }

    33% {
        filter: hue-rotate(120deg) brightness(1.1);
    }

    66% {
        filter: hue-rotate(240deg) brightness(0.9);
    }

    100% {
        filter: hue-rotate(360deg) brightness(1);
    }
}
/* Make the title responsive on smaller screens */
@media (max-width: 768px) {
    .calendar-title {
        font-size: 28px;
        padding: 0 10px; /* Prevent cutoff on edges */
    }

        .calendar-title::after {
            bottom: -8px;
        }
}
